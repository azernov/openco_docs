Плагин для двойной связки js объектов и html сущностей. HTML элемент связывается с JS объектом, в котором хранятся данные,
переданные через атрибут `data-value` и при изменении данных, меняется и связанный HTML элемент. Аналогично при изменении 
`data-value` элемента можно вызвать изменение связанного JS объекта.

***

## Простейший вызов.

```javascript
$('DataBinder').dataBinder();
```

## Принцип работы

HTML элемент связывается с JS объектом при помощи data аттрибутов. Создается глобальный объект `DataBinder`, обращаясь 
к которому можно получить/изменить данные привязанных элементов. `DataBinder.data` содержит конкретные привязки, например 
`DataBinder.data.object_1` - привязка к элементу с `data-key = object_1`. Внутри содержится объект `attributes` с данными а 
также методы `get` и `set` для получения и установки данных соответственно.

## Список передаваемых опций.

Опции можно передавать как при вызове плагина, так и через data-аттрибуты привязываемого элемента. Приоритет, однако, имеют 
data-аттрибуты. Таким образом к одному плагину можно привязать любое число объектов с соовершенно разным поведением.

* `key` - уникальный ключ, который определяет имя связанного объекта. Например для элемента с `data-key = object_1` будет 
существовать объект `DataBinder.data.object_1`
    
    По умолчанию - `default`

* `bind` - имя переменной в объекте `attributes`, которая будет отслеживаться данной связкой. То есть можно создать один
объект, связанный с несколькими элементами.

    По умолчанию - `value`

* `value` - значение отслеживаемой переменной. Может быть как простой формы, так и например JSON строкой.

    По умолчанию - пустая строка

* `tpl` - шаблон, согласно которому строится вывод html. В качестве шаблонизатора используется
[Tangular.js](https://github.com/totaljs/Tangular). Необходим только если в качестве `handler` передан
`tpl` или `tpllist`.

    По умолчанию - пустая строка

* `type` - тип передаваемых данных. (по умолчанию simple)

    По умолчанию - `simple`
    
    Список принимаемых значений:
    
    * `simple` - данные не нуждаются в предварительной обработке
    
    * `JSON` - данныё передаются в формате JSON
    
    * `encoded` - данные закодированы через base64
    
    * `encodedJSON` - данные в формате JSON а также закодированы через base64
    
    Также в качестве параметра `type` может быть передана функция, принимающая параметр `data` (необработанные данные) и возвращающая
    переменную, JS объект или массив (Обработанные данные)/

* `handler` - функция обработчик для DOM. Когда привязанные данные изменяются вызывается метод, определенный через данную опцию, 
который отвечает за то, каким образом изменися связанный HTML. 

    По умолчанию - `valhtml`
  
    Список предустановленных обработчиков:
    
    * `toggle` - Показывает или скрывает дочерние элементы привязанного блока в зависимости от изменения данных. У дочерних
    элементов, подлежащих обработке должны присутствовать аттрибуты `data-toggle` (учитываются только элементы с данными
    аттрибутами) и `data-value` (значение, при котором элемент будет показан)
        ```html
        <ul class="DataBinder" data-handler="toggle" data-key="object_1" data-bind="value" data-value="on">
          <li data-toggle="1" data-value="on">Включено</li>
          <li data-toggle="1" data-value="off">Выключено</li>
        </ul>
        ```
    
    * `valhtml` - Помещает данные в аттрибут `value` или в html содержимое элемента в зависимости от того, элемент формы это или нет
        ```html
        <input class="DataBinder" type="text" data-key="object_1" data-bind="value" data-handler="valhtml" data-value="{Значение}"/>
        ```
    
    * `tpl` - Помещает html внутрь связанного элемента на основе шаблона из data-tpl. Помните что в качестве основного 
    объекта для шаблона будет выступать объект с именем из `data-bind` и значением из `data-value`, причем в `data-value`
    может быть передан также объект.
        ```html
        <div class="DataBinder" data-handler="toggle" data-key="object_1" data-bind="value" data-value="{Значение}"
          data-tpl="<strong>{{value}}</strong>"
        >         
        </div>
        ```
    
    * `tpllist` - Также используется шаблон из `data-tpl`, но при этом `data-value` должен содержать список параметров 
    (массив, объект). Соответственно на основе этого списка будет строиться список html элементов.
    
    Также в качестве параметра `handler` может быть передана функция, принимающая три параметра: 
    `$initiator` (jQuery элемент, в который будет помещаться результат), `options` (массив параметров), `new_val` 
    (новое установленное значение). Функция должна обрабатывать данные и выводить их согласно массиву опций.
    
##Примеры и советы

Если вы передаете набор объектов (массив или ассоциативный массив) - используйте параметр `data-type=encodedJSON`. Тогда
закодированная строка в `data-value` не создаст помех работе HTML и JS.